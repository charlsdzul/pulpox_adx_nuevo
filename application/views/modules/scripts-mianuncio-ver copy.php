<script>
  const BASE_URL = "<?php echo base_url();?>" + "index.php/";
  var datos_anuncio = <?php echo json_encode($datos_anuncio); ?>;
  function eliminarAnuncio(){id=datos_anuncio.public_id,$.confirm({icon:"fas fa-info-circle",title:'<spam class="titulo-confirm">Eliminar Anuncio<spam>',type:"blue",columnClass:"medium",backgroundDismiss:!0,content:"<div class='contenido-confirm'>\n          <b>¿Realmente desea eliminarlo?</b><br><br>Recuerde: \n          <label>El anuncio se eliminará y nadie podrá verlo, aunque tú podrás verlo en 'Mis Anuncios'.</label></div>                       \n        ",buttons:{cerrar:{text:"Cancelar",btnClass:"btn-pulpox-danger--line",keys:["escape"]},eliminarAnuncio:{text:"Sí, eliminar este anuncio",btnClass:"btn-pulpox-info",keys:["enter"],action:function(){let n=$.dialog({icon:"fa fa-spinner fa-spin",title:'<spam class="titulo-confirm">Eliminar Anuncio<spam>',type:"blue",content:"<div class='contenido-confirm'>Estamos eliminando tu anuncio...</div>",closeIcon:!1});$.post(BASE_URL+"mianuncio/eliminar/",{id:id}).done(function(e){var i=JSON.parse(e);n.close(),0==i.codigo?$.confirm({icon:"fas fa-check-circle",title:'<spam class="titulo-confirm">Eliminar Anuncio<spam>',type:"green",columnClass:"medium",backgroundDismiss:!0,content:`<div class='contenido-confirm'>${i.mensaje}</div>`,buttons:{ok:{text:"Ok",btnClass:"btn-pulpox-success",keys:["enter"],action:function(){window.location.replace(BASE_URL+"misanuncios/")}}}}):$.confirm({icon:"fas fa-exclamation-circle",title:'<spam class="titulo-confirm">Eliminar Anuncio<spam>',type:"red",columnClass:"medium",content:`<div class='contenido-confirm'>${i.mensaje}</div>`,backgroundDismiss:!0,buttons:{ok:{text:"Ok",btnClass:"btn-pulpox-danger--line",keys:["enter"]}}})}).fail(function(){n.close(),$.confirm({icon:"fas fa-exclamation-circle",title:'<spam class="titulo-confirm">Lo sentimos<spam>',content:"<div class='contenido-confirm'>Nuestro servidor tiene problemas actualmente. Intente más tarde.</div>",type:"red",backgroundDismiss:!0,typeAnimated:!0,buttons:{ok:{text:"Ok",btnClass:"btn-pulpox-danger--line",keys:["escape","enter"]}}})})}}}})}function cambiarEstatusDeAnuncio(n,e){let i=e,s="",t="",o="";"ACTIVO"==e&&(s="Sí, quiero suspenderlo.",t="btn-pulpox-info",o="blue"),"SUSPENDIDO"==e&&(s="Sí, quiero activarlo.",t="btn-pulpox-info",o="blue"),$.confirm({icon:"fas fa-info-circle",title:'<spam class="titulo-confirm">Cambio de estatus<spam>',type:o,columnClass:"medium",backgroundDismiss:!0,content:`\n        <div class='contenido-confirm'>\n          El estatus actual del anuncio es <b>${e}</b> ¿Realmente desea cambiarlo?<br><br>Recuerde: \n          <label><b>ACTIVO:</b> El anuncio es visible para todo el mundo. Puedes Suspenderlo después.</label>  \n          <label><b>SUSPENDIDO:</b> El anuncio nadie lo verá. Puedes Activarlo después.</label></div>          \n        `,buttons:{cerrar:{text:"Cancelar",btnClass:"btn-pulpox-danger--line",keys:["escape"]},cambiarEstatus:{text:s,btnClass:t,keys:["enter"],action:function(){let e=$.dialog({icon:"fa fa-spinner fa-spin",title:'<spam class="titulo-confirm">Cambio de estatus<spam>',type:"blue",content:"<div class='contenido-confirm'>Estamos cambiando el estatus de tu anuncio...</div>",closeIcon:!1});$.post(BASE_URL+"mianuncio/cambiarEstatus/",{id:n,estatus_actual:i}).done(function(i){e.close();var s=JSON.parse(i);0==s.codigo?$.confirm({icon:"fas fa-check-circle",title:'<spam class="titulo-confirm">Cambio de estatus<spam>',type:"green",columnClass:"small",content:`<div class='contenido-confirm'>${s.mensaje}</div>`,buttons:{ok:{text:"Ok",btnClass:"btn-pulpox-success",keys:["enter"],action:function(){window.location.replace(BASE_URL+"mianuncio/ver/"+n)}}}}):$.confirm({icon:"fas fa-exclamation-circle",title:'<spam class="titulo-confirm">Cambio de estatus<spam>',type:"red",columnClass:"small",content:`<div class='contenido-confirm'>${s.mensaje}</div>`,closeIcon:!0,buttons:{ok:{text:"Ok",btnClass:"btn-pulpox-danger",keys:["escape","enter"]}}})}).fail(function(){e.close(),$.confirm({title:'<spam class="titulo-confirm">Detectamos un problema.<spam>',content:"<div class='contenido-confirm'>Nuestro servidor tiene problemas actualmente. Intente más tarde.</div>",type:"red",typeAnimated:!0,backgroundDismiss:!0,buttons:{cerrarVerAnuncio:{text:"Cerrar",btnClass:"btn-pulpox-danger",keys:["escape","enter"]}}})})}}}})}$(document).ready(function(){asignaValores(datos_anuncio),creaCarousel(datos_anuncio)});
</script>